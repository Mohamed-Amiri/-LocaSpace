<div class="auth-container">
  <!-- Modern Form Panel -->
  <div class="form-panel">
    <div class="form-content">
      <div class="form-header">
        <div class="logo-container">
          <svg width="40" height="40" viewBox="0 0 32 32" class="logo-icon">
            <rect width="32" height="32" rx="8" fill="url(#gradient)"/>
            <path d="M8 12h16v8H8z" fill="white" opacity="0.9"/>
            <path d="M12 8h8v4h-8z" fill="white" opacity="0.7"/>
            <defs>
              <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#2563EB"/>
                <stop offset="100%" style="stop-color:#7C3AED"/>
              </linearGradient>
            </defs>
          </svg>
          <span class="logo-text">LocaSpace</span>
        </div>
        <h2>Mot de passe oublié ?</h2>
        <p>Entrez votre adresse email pour réinitialiser votre mot de passe</p>
      </div>

      <form class="forgot-password-form" [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()" novalidate>
        <!-- Email Input -->
        <div class="input-group" [class.focused]="emailFocused" [class.has-value]="!!forgotPasswordForm.get('email')?.value">
          <div class="input-icon">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
              <polyline points="22,6 12,13 2,6"/>
            </svg>
          </div>
          <div class="input-wrapper">
            <label for="email">Email</label>
            <input 
              type="email" 
              id="email" 
              formControlName="email" 
              [ngClass]="{ 'is-invalid': submitted && f['email'].errors }"
              (focus)="emailFocused = true"
              (blur)="emailFocused = false"
            >
          </div>
          <div *ngIf="submitted && f['email'].errors" class="invalid-feedback">
            <div *ngIf="f['email'].errors['required']">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/>
                <line x1="12" y1="8" x2="12" y2="12"/>
                <line x1="12" y1="16" x2="12.01" y2="16"/>
              </svg>
              L'email est requis
            </div>
            <div *ngIf="f['email'].errors['email']">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/>
                <line x1="12" y1="8" x2="12" y2="12"/>
                <line x1="12" y1="16" x2="12.01" y2="16"/>
              </svg>
              L'email est invalide
            </div>
          </div>
        </div>
        
        <!-- Submit Button -->
        <button type="submit" class="submit-btn" [disabled]="isLoading">
          <span *ngIf="!isLoading">Envoyer le lien de réinitialisation</span>
          <div *ngIf="isLoading" class="spinner"></div>
        </button>
      </form>

      <!-- Success Message -->
      <div class="success-message" *ngIf="emailSent">
        <div class="success-icon">
          <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
            <polyline points="22 4 12 14.01 9 11.01"/>
          </svg>
        </div>
        <h3>Email envoyé !</h3>
        <p>Nous avons envoyé un lien de réinitialisation à <strong>{{ forgotPasswordForm.get('email')?.value }}</strong>. Veuillez vérifier votre boîte de réception.</p>
      </div>

      <div class="form-footer">
        <p>Vous vous souvenez de votre mot de passe ? <a routerLink="/login" class="login-link">Connectez-vous</a></p>
      </div>
    </div>
  </div>

  <!-- Visual Panel -->
  <div class="visual-panel">
    <div class="visual-overlay"></div>
    <div class="visual-content">
      <div class="quote-container">
        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
          <path d="M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z"/>
          <path d="M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z"/>
        </svg>
        <h3>Le service client de LocaSpace est exceptionnel. Ils m'ont aidé à récupérer mon compte en quelques minutes !</h3>
        <div class="testimonial-author">
          <img src="https://randomuser.me/api/portraits/women/68.jpg" alt="Photo de Marie Leclerc" class="author-avatar">
          <div class="author-info">
            <p class="author-name">Marie Leclerc</p>
            <p class="author-title">Utilisatrice depuis 3 ans</p>
          </div>
        </div>
      </div>
      
      <div class="features-list">
        <div class="feature-item">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
            <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
          </svg>
          <span>Réinitialisation sécurisée</span>
        </div>
        <div class="feature-item">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"/>
            <polyline points="12 6 12 12 16 14"/>
          </svg>
          <span>Processus rapide</span>
        </div>
        <div class="feature-item">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
            <polyline points="22 4 12 14.01 9 11.01"/>
          </svg>
          <span>Support client 24/7</span>
        </div>
      </div>
    </div>
  </div>
</div>