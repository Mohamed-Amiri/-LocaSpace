@use 'variables' as *;

.tabs-container {
  display: flex;
  flex-direction: column;
  width: 100%;

  &.vertical {
    flex-direction: row;
    align-items: flex-start;

    .tabs-header {
      flex-direction: column;
      border-bottom: none;
      border-right: 1px solid var(--border-color);
      padding-right: $spacing-4;
      min-width: 200px;

      .tab-item {
        width: 100%;
        justify-content: flex-start;
        padding: $spacing-2 $spacing-3;
        border-radius: $border-radius-md;
        margin-bottom: $spacing-1;

        &.active {
          background: var(--color-primary-alpha);
          color: var(--color-primary);
        }
      }
    }

    .tabs-body {
      padding-left: $spacing-4;
    }
  }
}

.tabs-header {
  display: flex;
  position: relative;
  border-bottom: 1px solid var(--border-color);
  margin-bottom: $spacing-4;

  &.scrollable {
    overflow-x: auto;
    scrollbar-width: none;
    -ms-overflow-style: none;
    
    &::-webkit-scrollbar {
      display: none;
    }
  }
}

.tab-item {
  display: flex;
  align-items: center;
  gap: $spacing-2;
  padding: $spacing-3 $spacing-4;
  color: var(--text-secondary);
  font-size: $font-size-base;
  font-weight: $font-weight-medium;
  cursor: pointer;
  transition: all 0.2s ease;
  white-space: nowrap;
  user-select: none;

  &:hover:not(.disabled) {
    color: var(--color-primary);
  }

  &.active {
    color: var(--color-primary);
  }

  &.disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .tab-icon {
    font-size: $font-size-lg;
  }
}

.tab-indicator {
  position: absolute;
  bottom: -1px;
  left: 0;
  height: 2px;
  width: var(--tab-width);
  transform: translateX(var(--tab-offset));
  background-color: var(--color-primary);
  transition: all 0.3s ease;

  .vertical & {
    display: none;
  }
}

.tabs-body {
  flex: 1;
  min-width: 0;
}

.tab-content {
  animation: fadeIn 0.2s ease-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

:host-context(.dark-theme) {
  .tabs-container.vertical .tabs-header {
    border-right-color: var(--border-color-dark);
  }

  .tabs-header {
    border-bottom-color: var(--border-color-dark);
  }

  .tab-item {
    color: var(--text-secondary-dark);

    &:hover:not(.disabled) {
      color: var(--color-primary);
    }

    &.active {
      color: var(--color-primary);
    }
  }

  .tabs-container.vertical .tab-item.active {
    background: var(--color-primary-alpha-dark);
  }
}
